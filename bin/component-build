#!/usr/bin/env node

/**
 * Module dependencies.
 */

var program = require('commander')
  , component = require('..')
  , utils = component.utils
  , log = component.utils.log
  , path = require('path')
  , fs = require('fs')
  , exists = fs.existsSync;

// parse argv

program.parse(process.argv);

// load json

var json = require(path.resolve('component.json'));

// ensure deps are installed

if (json.dependencies) {
  Object.keys(json.dependencies).forEach(function(name){
    name = name.replace('/', '-');
    if (exists(path.join('component', name))) return;
    utils.fatal(name + ' is not installed, run `component install`');
  });
}
