#!/usr/bin/env node

/**
 * Module dependencies.
 */

var program = require('commander')
  , component = require('..');

// options

program
  .option('-o, --out <dir>', 'output components to the given <dir>')

// parse argv

program.parse(process.argv);

// install

console.log();
program.args.forEach(function(pkg){
  pkg = component.install(pkg, program.out || 'components');

  component.log('install', pkg.name + '@' + pkg.version);
  pkg.install();

  pkg.on('file:start', function(file){
    component.log('fetch', pkg.name + ':' + file);
  });
});

