#!/usr/bin/env node

/**
 * Module dependencies.
 */

var program = require('commander')
  , mkdir = require('mkdirp')
  , component = require('..');

// options

program
  .option('-o, --out <dir>', 'output components to the given <dir>')

// parse argv

program.parse(process.argv);

// install

program.args.forEach(function(pkg){
  var dest = program.out || 'components';
  mkdir(dest, function(err){
    if (err) throw err;
    pkg = component.install(pkg, dest);
    pkg.install();
    component.terse(pkg);
  });
});

